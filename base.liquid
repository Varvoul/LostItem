<!DOCTYPE html>
<html class="dark" lang="en">
<head>
    <meta charset="utf-8"/>
    <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
    <title>{% if title %}{{ title }} - Quravel{% else %}Quravel{% endif %}</title>
    
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <script>
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        primary: "#498BBB", 
                        "background-light": "#F3F4F6",
                        "background-dark": "#0B0E19",
                        "surface-dark": "#151926",
                        "footer-dark": "#0C0E14",
                        "text-light": "#E5E7EB",
                        "text-muted": "#9CA3AF"
                    },
                    fontFamily: {
                        display: ["Inter", "sans-serif"],
                        body: ["Inter", "sans-serif"],
                    },
                    borderRadius: {
                        DEFAULT: "0.5rem",
                    },
                },
            },
        };
    </script>
    
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet"/>
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&display=swap" rel="stylesheet"/>
    
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .hide-scrollbar::-webkit-scrollbar {
            display: none;
        }
        .hide-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
        #mobile-menu {
            transition: transform 0.3s ease-in-out;
        }
        .menu-open {
            transform: translateX(0) !important;
        }
        .carousel-slide {
            transition: opacity 0.5s ease-in-out;
            opacity: 0;
            position: absolute;
            inset: 0;
            z-index: 1;
        }
        .carousel-slide.active {
            opacity: 1;
            z-index: 20;
            position: relative;
        }
        .search-results::-webkit-scrollbar {
            width: 6px;
        }
        .search-results::-webkit-scrollbar-track {
            background: transparent;
        }
        .search-results::-webkit-scrollbar-thumb {
            background-color: #4B5563;
            border-radius: 20px;
        }
        .line-clamp-1 {
            overflow: hidden;
            display: -webkit-box;
            -webkit-box-orient: vertical;
            -webkit-line-clamp: 1;
        }
        .line-clamp-3 {
            overflow: hidden;
            display: -webkit-box;
            -webkit-box-orient: vertical;
            -webkit-line-clamp: 3;
        }
    </style>
</head>
<body class="bg-background-light dark:bg-background-dark text-gray-900 dark:text-text-light transition-colors duration-300 min-h-screen flex flex-col relative">
    
    <!-- Mobile Menu Overlay -->
    <div class="fixed inset-0 bg-black/50 z-40 hidden lg:hidden" id="mobile-menu-overlay" onclick="toggleMobileMenu()"></div>
    
    <!-- Mobile Menu -->
    <div class="fixed top-0 left-0 h-full w-64 bg-white dark:bg-[#151926] z-50 transform -translate-x-full lg:hidden overflow-y-auto shadow-2xl" id="mobile-menu">
        {% include 'header-mobile.liquid' %}
    </div>
    
    <!-- Header -->
    <header class="fixed top-0 w-full z-40 bg-white/95 dark:bg-[#0B0E19]/95 backdrop-blur-sm border-b border-gray-200 dark:border-gray-800 shadow-sm">
        {% include 'header.liquid' %}
    </header>
    
    <!-- Main Content -->
    <main class="flex-grow pt-20 pb-12">
        {{ content }}
    </main>
    
    <!-- Footer -->
    <footer class="bg-white dark:bg-footer-dark border-t border-gray-200 dark:border-gray-800 mt-auto">
        {% include 'footer.liquid' %}
    </footer>
    
    <!-- Global Scripts -->
    <script>
        // Mobile Menu Toggle
        function toggleMobileMenu() {
            const menu = document.getElementById('mobile-menu');
            const overlay = document.getElementById('mobile-menu-overlay');
            menu.classList.toggle('menu-open');
            overlay.classList.toggle('hidden');
        }
        
        // Mobile Search Toggle
        function toggleMobileSearch() {
            const searchBar = document.getElementById('mobile-search-bar');
            searchBar.classList.toggle('hidden');
        }
        
        // Mobile Dropdown Accordion
        function toggleMobileDropdown(id) {
            const dropdown = document.getElementById(id);
            dropdown.classList.toggle('hidden');
            const arrowId = id === 'genre-mobile' ? 'genre-arrow' : 'country-arrow';
            const arrow = document.getElementById(arrowId);
            if (dropdown.classList.contains('hidden')) {
                arrow.style.transform = 'rotate(0deg)';
            } else {
                arrow.style.transform = 'rotate(180deg)';
            }
        }
    </script>
    
    {% if page.url == '/' %}
    <script src="/assets/js/home-carousel.js"></script>
    {% endif %}
    
</body>
</html>
